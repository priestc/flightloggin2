/*
 * Retro Style Flip Clock - epiClock Rendering Engine
 *
 * Copyright (c) 2008 Eric Garside (http://eric.garside.name)
 * Dual licensed under:
 * 	MIT: http://www.opensource.org/licenses/mit-license.php
 *	GPLv3: http://www.opensource.org/licenses/gpl-3.0.html
 */
(function(A){A.extend(A.epiclocks,{retro:{format:"h:i:s a",stylesheet:"clocks/retro.css",containerClass:"epiclock-retro",tpl:"<div></div>",innerTpl:'<div class="epiclock-img"></div>',onSetup:function(){A(".epiclock-retro .epiclock-img").live("flip-clock",function(){var B=A(this);setTimeout(function(){B.removeClass("a1").addClass("a2");setTimeout(function(){B.removeClass("a2").addClass("s")},150)},150)})},onRender:function(D,I){var H=I.substring(1)=="m"?[I]:I.split("").reverse(),F=D.data("last"),G=F?"d":"s",E=F?F.split("").reverse():[],B=A.makeArray(A(".epiclock-img",D)).reverse(),C=this;A.each(H,function(K,J){if(J==E[K]){return}A(B[K]||A(C.innerTpl).prependTo(D)).removeClass("s d"+E[K]).addClass("d"+J+" a1").trigger("flip-clock")})}}})})(jQuery);